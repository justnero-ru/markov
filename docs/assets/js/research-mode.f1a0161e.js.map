{"version":3,"sources":["webpack:///./src/view/research-mode.vue?0c1b","webpack:///./src/components/ui/vSettings.vue?13c6","webpack:///src/components/ui/vSettings.vue","webpack:///./src/components/ui/vSettings.vue?bafb","webpack:///./src/components/ui/vSettings.vue","webpack:///src/view/research-mode.vue","webpack:///./src/view/research-mode.vue?79bf","webpack:///./src/view/research-mode.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","mode","save","isTested","test","normalize","clear","fieldsConfig","model","value","callback","$$v","settings","expression","size","ref","$event","showIntermediate","_v","_s","_l","index","key","iterationsTested","eps","refInFor","_e","staticRenderFns","row","val","$emit","component"],"mappings":"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","file":"assets/js/research-mode.f1a0161e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"col-md-9 ml-sm-auto col-lg-10 px-4\",attrs:{\"role\":\"main\"}},[_c('v-title',{attrs:{\"name\":\"Исследование Марковской модели\",\"action-save\":\"\"},on:{\"save\":function (mode) { return _vm.save(mode); }}}),_c('v-actions',{attrs:{\"can-normalize\":!_vm.isTested,\"can-test\":\"\",\"can-clear\":\"\"},on:{\"test\":_vm.test,\"normalize\":_vm.normalize,\"clear\":_vm.clear}}),_c('v-settings',{attrs:{\"rows\":_vm.fieldsConfig},model:{value:(_vm.settings),callback:function ($$v) {_vm.settings=$$v},expression:\"settings\"}}),_c('div',{staticClass:\"row mb-5\"},[_c('div',{staticClass:\"col col-xs-12\"},[_c('matrix-table',{attrs:{\"namespace\":\"research/model\",\"eps-changeable\":\"\",\"size\":_vm.settings.size}})],1),_c('div',{staticClass:\"col col-xs-12 text-xs-center text-right\"},[_c('model',{ref:\"model\",attrs:{\"namespace\":\"research/model\",\"size\":_vm.settings.size}})],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col text-right\"},[_c('button',{staticClass:\"btn btn-sm btn-outline-primary\",on:{\"click\":function($event){_vm.showIntermediate = !_vm.showIntermediate}}},[_vm._v(\"\\n                \"+_vm._s(_vm.showIntermediate ? 'Скрыть промежуточные модели' : 'Показать промежуточные модели')+\"\\n            \")])])]),_vm._l((_vm.iterationsTested),function(index){return _c('div',{key:index},[(_vm.showIntermediate || index === _vm.iterationsTested)?_c('div',{staticClass:\"row mt-2\"},[_c('div',{staticClass:\"col-12\"},[(index < _vm.iterationsTested)?_c('h2',{staticClass:\"h4 mb-3\"},[_vm._v(\"Промежуточная модель \"+_vm._s(index)+\" порядка\")]):_c('h2',{staticClass:\"h4 mb-3\"},[_vm._v(\"Итоговая модель\")])]),_c('div',{staticClass:\"col col-xs-12\"},[_c('matrix-table',{attrs:{\"namespace\":\"research/multiModel\",\"compare-namespace\":\"research/model\",\"read-only\":\"\",\"index\":index-1,\"eps\":_vm.settings.eps,\"size\":_vm.settings.size}})],1),_c('div',{staticClass:\"col col-xs-12 text-xs-center text-right\"},[_c('model',{ref:(\"model_\" + index),refInFor:true,attrs:{\"namespace\":\"research/multiModel\",\"index\":index-1,\"size\":_vm.settings.size}})],1)]):_vm._e()])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.rows),function(row,index){return _c('v-settings-row',{key:index,attrs:{\"fields\":row,\"value\":_vm.value},on:{\"input\":function (val) { return _vm.$emit('input', val); }}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <v-settings-row v-for=\"(row, index) in rows\"\n                        :key=\"index\"\n                        :fields=\"row\"\n                        :value=\"value\"\n                        @input=\"val => $emit('input', val)\"/>\n    </div>\n</template>\n\n<script>\n    import vSettingsRow from '@/components/ui/vSettingsRow';\n\n    export default {\n        name: 'vSettings',\n        props: {\n            rows: {\n                type: Array,\n                required: true,\n            },\n            value: {\n                type: Object,\n            },\n        },\n        components: {\n            vSettingsRow,\n        },\n    };\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vSettings.vue?vue&type=template&id=2e5dcfea&\"\nimport script from \"./vSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./vSettings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <main role=\"main\" class=\"col-md-9 ml-sm-auto col-lg-10 px-4\">\n        <v-title name=\"Исследование Марковской модели\"\n                 action-save\n                 @save=\"mode => save(mode)\"/>\n        <v-actions\n                :can-normalize=\"!isTested\"\n                can-test\n                can-clear\n                @test=\"test\"\n                @normalize=\"normalize\"\n                @clear=\"clear\"/>\n        <v-settings :rows=\"fieldsConfig\"\n                    v-model=\"settings\"/>\n        <div class=\"row mb-5\">\n            <div class=\"col col-xs-12\">\n                <matrix-table namespace=\"research/model\"\n                              eps-changeable\n                              :size=\"settings.size\"/>\n            </div>\n            <div class=\"col col-xs-12 text-xs-center text-right\">\n                <model namespace=\"research/model\"\n                       ref=\"model\"\n                       :size=\"settings.size\"/>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col text-right\">\n                <button class=\"btn btn-sm btn-outline-primary\" @click=\"showIntermediate = !showIntermediate\">\n                    {{ showIntermediate ? 'Скрыть промежуточные модели' : 'Показать промежуточные модели'}}\n                </button>\n            </div>\n        </div>\n        <div v-for=\"index in iterationsTested\"\n                  :key=\"index\">\n            <div class=\"row mt-2\"\n                 v-if=\"showIntermediate || index === iterationsTested\">\n                <div class=\"col-12\">\n                    <h2 class=\"h4 mb-3\" v-if=\"index < iterationsTested\">Промежуточная модель {{ index }} порядка</h2>\n                    <h2 class=\"h4 mb-3\" v-else>Итоговая модель</h2>\n                </div>\n                <div class=\"col col-xs-12\">\n                    <matrix-table namespace=\"research/multiModel\"\n                                  compare-namespace=\"research/model\"\n                                  read-only\n                                  :index=\"index-1\"\n                                  :eps=\"settings.eps\"\n                                  :size=\"settings.size\"/>\n                </div>\n                <div class=\"col col-xs-12 text-xs-center text-right\">\n                    <model namespace=\"research/multiModel\"\n                           :index=\"index-1\"\n                           :ref=\"`model_${index}`\"\n                           :size=\"settings.size\"/>\n                </div>\n            </div>\n        </div>\n    </main>\n</template>\n\n<script>\n    import vTitle from '@/components/ui/vTitle'\n    import vActions from '@/components/ui/vActions'\n    import VSettings from \"@/components/ui/vSettings\"\n    import MatrixTable from '@/components/matrix/Table'\n    import Model from '@/components/Model'\n    import {saveAs} from 'file-saver'\n    import {extractSvg, svg2image} from '@/util/svg'\n\n    export default {\n        name: 'ResearchMode',\n        components: {vTitle, vActions, VSettings, MatrixTable, Model},\n        data: () => ({\n            showIntermediate: false,\n        }),\n        computed: {\n            settings: {\n                get() {\n                    return {\n                        size: this.$store.state.research.model.size,\n                        steps: this.$store.state.research.steps,\n                        chains: this.$store.state.research.chains,\n                        iterations: this.$store.state.research.iterations,\n                        eps: this.$store.state.research.eps,\n                        distribution: this.$store.state.research.distribution,\n                        distributionA: this.$store.state.research.distributionA,\n                        distributionB: this.$store.state.research.distributionB,\n                    };\n                },\n                set(value) {\n                    const mutations = {\n                        size: 'research/model/resize',\n                        steps: 'research/setSteps',\n                        chains: 'research/setChains',\n                        iterations: 'research/setIterations',\n                        eps: 'research/setEps',\n                        distribution: 'research/setDistribution',\n                        distributionA: 'research/setDistributionA',\n                        distributionB: 'research/setDistributionB',\n                    };\n                    Object.keys(mutations)\n                        .forEach(key => {\n                            if (this.settings[key] !== value[key]) {\n                                this.$store.commit(mutations[key], value[key]);\n                            }\n                        });\n                },\n            },\n            fieldsConfig() {\n                return [\n                    [\n                        {name: 'size', label: 'Размерность модели', min: 2},\n                        {name: 'steps', label: 'Максимальнное количество шагов', min: 2, max: null},\n                        {name: 'chains', label: 'Количество цепочек', max: null},\n                        {name: 'iterations', label: 'Количество итераций', max: null},\n                    ],\n                    [\n                        {name: 'eps', label: 'Точность 𝜀', min: 2},\n                        {\n                            name: 'distribution',\n                            label: 'Вид распределения',\n                            type: 'select',\n                            options: {\n                                uniform: 'Равномерное',\n                                normal: 'Нормальное',\n                                logNormal: 'Лог нормальное',\n                                exponential: 'Экспоненциальное',\n                            },\n                        },\n                        {\n                            name: 'distributionA',\n                            label({distribution}) {\n                                switch (distribution) {\n                                    case 'uniform':\n                                        return 'Минимальное время пребывания <i>t<sub>min</sub></i>';\n                                    case 'normal':\n                                    case 'logNormal':\n                                        return 'Среднее <i>mean</i>';\n                                    default:\n                                        return '...';\n                                }\n                            },\n                            min: null,\n                            step: null,\n                            max: null,\n                        },\n                        {\n                            name: 'distributionB',\n                            label({distribution}) {\n                                switch (distribution) {\n                                    case 'uniform':\n                                        return 'Максимальное время пребывания <i>t<sub>max</sub></i>';\n                                    case 'normal':\n                                    case 'logNormal':\n                                        return 'Стандартное отклонение <i>stdev</i>';\n                                    default:\n                                        return '...';\n                                }\n                            },\n                            min: null,\n                            step: null,\n                            max: null,\n                        },\n                    ],\n                ];\n            },\n            transitions() {\n                return this.$store.state.research.model.chains;\n            },\n            iterationsTested() {\n                return this.$store.state.research.multiModel.iterations;\n            },\n            isTested() {\n                return this.iterationsTested > 0;\n            },\n        },\n        methods: {\n            async save(what) {\n                switch (what) {\n                    case 'xlsx':\n                        await this.$store.dispatch('research/save');\n                        break;\n                    case 'svg':\n                        saveAs(\n                            new Blob([extractSvg(this.$refs.model.$refs.svg)], {type: \"image/svg+xml;charset=utf-8\"}),\n                            'model.svg'\n                        );\n                        break;\n                    case 'png':\n                        svg2image(this.$refs.model.$refs.svg, blob => {\n                            saveAs(blob, 'model.png');\n                        });\n                        break;\n                }\n            },\n            async test() {\n                return this.$store.dispatch('research/test');\n            },\n            async normalize() {\n                return this.$store.dispatch('research/model/normalize');\n            },\n            async clear() {\n                return this.$store.dispatch('research/clear');\n            },\n        },\n    }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./research-mode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./research-mode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./research-mode.vue?vue&type=template&id=64d564d6&\"\nimport script from \"./research-mode.vue?vue&type=script&lang=js&\"\nexport * from \"./research-mode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}