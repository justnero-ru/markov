{"version":3,"sources":["webpack:///./src/components/Chains.vue?173e","webpack:///src/components/Chains.vue","webpack:///./src/components/Chains.vue?91c8","webpack:///./src/components/Chains.vue","webpack:///./src/view/reverse-mode.vue?0266","webpack:///src/view/reverse-mode.vue","webpack:///./src/view/reverse-mode.vue?7662","webpack:///./src/view/reverse-mode.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","modifiers","attrs","isTransitionsShown","on","$event","copyTransitions","_l","chain","index","key","_s","_e","staticRenderFns","component","mode","save","isTested","test","step","normalize","clear","fieldsConfig","model","value","callback","$$v","settings","expression","domProps","target","composing","transitionsPlain","size","ref","transitions","blob","fileName"],"mappings":"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","file":"assets/js/reverse-mode.74320b76.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isTransitionsAvailable)?_c('div',[_c('div',{staticClass:\"d-flex justify-content-start flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3\"},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(\"Цепочки\")]),_c('div',{staticClass:\"btn-toolbar ml-3\"},[_c('div',{staticClass:\"btn-group\"},[_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"btn btn-sm btn-sm btn-outline-primary\",attrs:{\"title\":_vm.isTransitionsShown ? 'Скрыть' : 'Показать'},on:{\"click\":function($event){_vm.isTransitionsShown = !_vm.isTransitionsShown}}},[_c('fa-icon',{attrs:{\"icon\":_vm.isTransitionsShown ? 'caret-up' : 'caret-down'}})],1),_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"btn btn-sm btn-outline-primary\",attrs:{\"title\":\"Скопировать\"},on:{\"click\":_vm.copyTransitions}},[_c('fa-icon',{attrs:{\"icon\":\"copy\"}})],1)])])]),(_vm.isTransitionsShown)?_vm._l((_vm.transitionsHumanized),function(chain,index){return _c('p',{key:index},[_vm._v(\"\\n            \"+_vm._s(chain)+\"\\n        \")])}):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"isTransitionsAvailable\">\n        <div class=\"d-flex justify-content-start flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3\">\n            <h4 class=\"mb-0\">Цепочки</h4>\n            <div class=\"btn-toolbar ml-3\">\n                <div class=\"btn-group\">\n                    <button class=\"btn btn-sm btn-sm btn-outline-primary\"\n                            v-b-tooltip.hover\n                            :title=\"isTransitionsShown ? 'Скрыть' : 'Показать'\"\n                            @click=\"isTransitionsShown = !isTransitionsShown\">\n                        <fa-icon :icon=\"isTransitionsShown ? 'caret-up' : 'caret-down'\"/>\n                    </button>\n                    <button class=\"btn btn-sm btn-outline-primary\"\n                            v-b-tooltip.hover\n                            title=\"Скопировать\"\n                            @click=\"copyTransitions\">\n                        <fa-icon icon=\"copy\"/>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <template v-if=\"isTransitionsShown\">\n            <p v-for=\"(chain, index) in transitionsHumanized\" :key=\"index\">\n                {{chain}}\n            </p>\n        </template>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Chains',\n        props: {\n            copy: {\n                type: Boolean,\n                default: true,\n            },\n            transitions: {\n                type: Array,\n                default: () => [[0]],\n            }\n        },\n        data() {\n            return {\n                isTransitionsShown: false,\n            };\n        },\n        computed: {\n            transitionsPlain() {\n                return this.transitions.map(chain => chain.join(' ')).join('\\n');\n            },\n            transitionsHumanized() {\n                return this.transitions.map(chain => chain.join(' ↠ '));\n            },\n            isTransitionsAvailable() {\n                return this.transitions.length > 1 || this.transitions[0].length > 1;\n            },\n        },\n        methods: {\n            async copyTransitions() {\n                return navigator.clipboard.writeText(this.transitionsPlain);\n            },\n        },\n    };\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chains.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chains.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chains.vue?vue&type=template&id=a37a2392&\"\nimport script from \"./Chains.vue?vue&type=script&lang=js&\"\nexport * from \"./Chains.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"col-md-9 ml-sm-auto col-lg-10 px-4\",attrs:{\"role\":\"main\"}},[_c('v-title',{attrs:{\"name\":\"Обратная Марковская модель\",\"action-save\":\"\"},on:{\"save\":function (mode) { return _vm.save(mode); }}}),_c('v-actions',{attrs:{\"can-step\":!_vm.isTested,\"can-normalize\":!_vm.isTested,\"can-test\":\"\",\"can-clear\":\"\"},on:{\"test\":_vm.test,\"step\":_vm.step,\"normaliz\":_vm.normalize,\"clear\":_vm.clear}}),_c('v-settings-row',{attrs:{\"fields\":_vm.fieldsConfig},model:{value:(_vm.settings),callback:function ($$v) {_vm.settings=$$v},expression:\"settings\"}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"transitions-plain\"}},[_vm._v(\"Цепочки\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transitionsPlain),expression:\"transitionsPlain\"}],staticClass:\"form-control w-100\",attrs:{\"id\":\"transitions-plain\",\"rows\":\"3\"},domProps:{\"value\":(_vm.transitionsPlain)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.transitionsPlain=$event.target.value}}})])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('matrix-table',{attrs:{\"size\":_vm.settings.size,\"namespace\":\"reverse/model\",\"read-only\":\"\"}})],1),_c('div',{staticClass:\"col text-right\"},[_c('model',{ref:\"model\",attrs:{\"namespace\":\"reverse/model\",\"size\":_vm.settings.size}})],1)]),_c('chains',{attrs:{\"transitions\":_vm.transitions}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <main role=\"main\" class=\"col-md-9 ml-sm-auto col-lg-10 px-4\">\n        <v-title name=\"Обратная Марковская модель\"\n                 action-save\n                 @save=\"mode => save(mode)\"/>\n        <v-actions\n                :can-step=\"!isTested\"\n                :can-normalize=\"!isTested\"\n                can-test\n                can-clear\n                @test=\"test\"\n                @step=\"step\"\n                @normaliz=\"normalize\"\n                @clear=\"clear\"/>\n        <v-settings-row :fields=\"fieldsConfig\"\n                        v-model=\"settings\"/>\n        <div class=\"row\">\n            <div class=\"col\">\n                <div class=\"form-group\">\n                    <label for=\"transitions-plain\">Цепочки</label>\n                    <textarea id=\"transitions-plain\" rows=\"3\" class=\"form-control w-100\"\n                              v-model=\"transitionsPlain\"></textarea>\n                </div>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col\">\n                <matrix-table :size=\"settings.size\"\n                              namespace=\"reverse/model\"\n                              read-only/>\n            </div>\n            <div class=\"col text-right\">\n                <model namespace=\"reverse/model\"\n                       ref=\"model\"\n                       :size=\"settings.size\"/>\n            </div>\n        </div>\n        <chains :transitions=\"transitions\"/>\n    </main>\n</template>\n\n<script>\n    import MatrixTable from '@/components/matrix/Table';\n    import Model from '@/components/Model';\n    import Chains from '@/components/Chains';\n    import vTitle from '@/components/ui/vTitle';\n    import vActions from '@/components/ui/vActions';\n    import vSettingsRow from '@/components/ui/vSettingsRow';\n    import {saveAs} from 'file-saver';\n    import {extractSvg, svg2image} from '@/util/svg';\n\n    export default {\n        name: 'ReverseMode',\n        components: {MatrixTable, Model, Chains, vTitle, vActions, vSettingsRow},\n        computed: {\n            settings: {\n                get() {\n                    return {\n                        size: this.$store.state.reverse.model.size,\n                        steps: this.$store.state.reverse.steps,\n                        chains: this.$store.state.reverse.chains,\n                    };\n                },\n                set(value) {\n                    const mutations = {\n                        size: 'reverse/model/resize',\n                        steps: 'reverse/setSteps',\n                        chains: 'reverse/setChains',\n                    };\n                    Object.keys(mutations)\n                        .forEach(key => {\n                            if (this.settings[key] !== value[key]) {\n                                this.$store.commit(mutations[key], value[key]);\n                            }\n                        });\n\n                },\n            },\n            fieldsConfig() {\n                return [\n                    {\n                        name: 'size',\n                        label: 'Размерность модели',\n                        min: 2,\n                    },\n                    {\n                        name: 'steps',\n                        label: 'Максимальнное количество шагов',\n                        min: 2,\n                        max: null,\n                    },\n                    {\n                        name: 'chains',\n                        label: 'Количество цепочек',\n                        max: null,\n                    },\n                ];\n            },\n            transitionsPlain: {\n                get() {\n                    return this.$store.state.reverse.transitionsPlain;\n                },\n                set(value) {\n                    this.$store.commit('reverse/setTransitionsPlain', value);\n                    this.$store.commit('reverse/model/setTransitionsPlain', value);\n                },\n            },\n            transitions() {\n                return this.$store.state.reverse.model.chains;\n            },\n            isTested() {\n                return this.$store.state.reverse.model.current === -1;\n            },\n        },\n        methods: {\n            async save(what) {\n                let blob = false;\n                let fileName = false;\n                switch (what) {\n                    case 'xlsx':\n                        // noinspection JSIgnoredPromiseFromCall\n                        this.$store.dispatch('reverse/save');\n                        break;\n                    case 'svg':\n                        saveAs(\n                            new Blob([extractSvg(this.$refs.model.$refs.svg)], {type: \"image/svg+xml;charset=utf-8\"}),\n                            'model.svg'\n                        );\n                        break;\n                    case 'png':\n                        svg2image(this.$refs.model.$refs.svg, blob => {\n                            saveAs(blob, 'model.png');\n                        });\n                        break;\n                }\n                if (blob && fileName) {\n                    saveAs(blob, fileName);\n                }\n            },\n            async test() {\n                return this.$store.dispatch('reverse/test');\n            },\n            async step() {\n                return this.$store.dispatch('reverse/model/step');\n            },\n            async normalize() {\n                return this.$store.dispatch('reverse/model/normalize');\n            },\n            async clear() {\n                return this.$store.dispatch('reverse/model/clear');\n            },\n        },\n    };\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reverse-mode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reverse-mode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reverse-mode.vue?vue&type=template&id=54537934&\"\nimport script from \"./reverse-mode.vue?vue&type=script&lang=js&\"\nexport * from \"./reverse-mode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}