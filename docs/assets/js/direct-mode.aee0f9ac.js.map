{"version":3,"sources":["webpack:///./src/components/Chains.vue?173e","webpack:///src/components/Chains.vue","webpack:///./src/components/Chains.vue?91c8","webpack:///./src/components/Chains.vue","webpack:///./src/view/direct-mode.vue?3a2d","webpack:///src/view/direct-mode.vue","webpack:///./src/view/direct-mode.vue?b03a","webpack:///./src/view/direct-mode.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","modifiers","attrs","isTransitionsShown","on","$event","copyTransitions","_l","chain","index","key","_s","_e","staticRenderFns","component","mode","save","isTested","test","step","normalize","clear","fieldsConfig","model","value","callback","$$v","settings","expression","size","ref","transitions","blob","fileName"],"mappings":"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","file":"assets/js/direct-mode.aee0f9ac.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isTransitionsAvailable)?_c('div',[_c('div',{staticClass:\"d-flex justify-content-start flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3\"},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(\"Цепочки\")]),_c('div',{staticClass:\"btn-toolbar ml-3\"},[_c('div',{staticClass:\"btn-group\"},[_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"btn btn-sm btn-sm btn-outline-primary\",attrs:{\"title\":_vm.isTransitionsShown ? 'Скрыть' : 'Показать'},on:{\"click\":function($event){_vm.isTransitionsShown = !_vm.isTransitionsShown}}},[_c('fa-icon',{attrs:{\"icon\":_vm.isTransitionsShown ? 'caret-up' : 'caret-down'}})],1),_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"btn btn-sm btn-outline-primary\",attrs:{\"title\":\"Скопировать\"},on:{\"click\":_vm.copyTransitions}},[_c('fa-icon',{attrs:{\"icon\":\"copy\"}})],1)])])]),(_vm.isTransitionsShown)?_vm._l((_vm.transitionsHumanized),function(chain,index){return _c('p',{key:index},[_vm._v(\"\\n            \"+_vm._s(chain)+\"\\n        \")])}):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"isTransitionsAvailable\">\n        <div class=\"d-flex justify-content-start flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3\">\n            <h4 class=\"mb-0\">Цепочки</h4>\n            <div class=\"btn-toolbar ml-3\">\n                <div class=\"btn-group\">\n                    <button class=\"btn btn-sm btn-sm btn-outline-primary\"\n                            v-b-tooltip.hover\n                            :title=\"isTransitionsShown ? 'Скрыть' : 'Показать'\"\n                            @click=\"isTransitionsShown = !isTransitionsShown\">\n                        <fa-icon :icon=\"isTransitionsShown ? 'caret-up' : 'caret-down'\"/>\n                    </button>\n                    <button class=\"btn btn-sm btn-outline-primary\"\n                            v-b-tooltip.hover\n                            title=\"Скопировать\"\n                            @click=\"copyTransitions\">\n                        <fa-icon icon=\"copy\"/>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <template v-if=\"isTransitionsShown\">\n            <p v-for=\"(chain, index) in transitionsHumanized\" :key=\"index\">\n                {{chain}}\n            </p>\n        </template>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Chains',\n        props: {\n            copy: {\n                type: Boolean,\n                default: true,\n            },\n            transitions: {\n                type: Array,\n                default: () => [[0]],\n            }\n        },\n        data() {\n            return {\n                isTransitionsShown: false,\n            };\n        },\n        computed: {\n            transitionsPlain() {\n                return this.transitions.map(chain => chain.join(' ')).join('\\n');\n            },\n            transitionsHumanized() {\n                return this.transitions.map(chain => chain.join(' ↠ '));\n            },\n            isTransitionsAvailable() {\n                return this.transitions.length > 1 || this.transitions[0].length > 1;\n            },\n        },\n        methods: {\n            async copyTransitions() {\n                return navigator.clipboard.writeText(this.transitionsPlain);\n            },\n        },\n    };\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chains.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chains.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chains.vue?vue&type=template&id=a37a2392&\"\nimport script from \"./Chains.vue?vue&type=script&lang=js&\"\nexport * from \"./Chains.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"col-md-9 ml-sm-auto col-lg-10 px-4\",attrs:{\"role\":\"main\"}},[_c('v-title',{attrs:{\"name\":\"Прямая Марковская модель\",\"action-save\":\"\"},on:{\"save\":function (mode) { return _vm.save(mode); }}}),_c('v-actions',{attrs:{\"can-step\":!_vm.isTested,\"can-normalize\":!_vm.isTested,\"can-test\":\"\",\"can-clear\":\"\"},on:{\"test\":_vm.test,\"step\":_vm.step,\"normalize\":_vm.normalize,\"clear\":_vm.clear}}),_c('v-settings-row',{attrs:{\"fields\":_vm.fieldsConfig},model:{value:(_vm.settings),callback:function ($$v) {_vm.settings=$$v},expression:\"settings\"}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-xs-12\"},[_c('matrix-table',{attrs:{\"namespace\":\"direct/model\",\"size\":_vm.settings.size}})],1),_c('div',{staticClass:\"col col-xs-12 text-xs-center text-right\"},[_c('model',{ref:\"model\",attrs:{\"namespace\":\"direct/model\",\"size\":_vm.settings.size}})],1)]),_c('chains',{attrs:{\"transitions\":_vm.transitions}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <main role=\"main\" class=\"col-md-9 ml-sm-auto col-lg-10 px-4\">\n        <v-title name=\"Прямая Марковская модель\"\n                 action-save\n                 @save=\"mode => save(mode)\"/>\n        <v-actions :can-step=\"!isTested\"\n                   :can-normalize=\"!isTested\"\n                   can-test\n                   can-clear\n                   @test=\"test\"\n                   @step=\"step\"\n                   @normalize=\"normalize\"\n                   @clear=\"clear\"/>\n        <v-settings-row :fields=\"fieldsConfig\"\n                        v-model=\"settings\"/>\n        <div class=\"row\">\n            <div class=\"col col-xs-12\">\n                <matrix-table namespace=\"direct/model\"\n                              :size=\"settings.size\"/>\n            </div>\n            <div class=\"col col-xs-12 text-xs-center text-right\">\n                <model namespace=\"direct/model\"\n                       ref=\"model\"\n                       :size=\"settings.size\"/>\n            </div>\n        </div>\n        <chains :transitions=\"transitions\"/>\n    </main>\n</template>\n\n<script>\n    import vTitle from '@/components/ui/vTitle'\n    import vActions from '@/components/ui/vActions'\n    import VSettingsRow from \"@/components/ui/vSettingsRow\"\n    import MatrixTable from '@/components/matrix/Table'\n    import Model from '@/components/Model'\n    import Chains from '@/components/Chains'\n    import {saveAs} from 'file-saver'\n    import {extractSvg, svg2image} from '@/util/svg'\n\n    export default {\n        name: 'DirectMode',\n        components: {vTitle, vActions, VSettingsRow, MatrixTable, Model, Chains},\n        computed: {\n            settings: {\n                get() {\n                    return {\n                        size: this.$store.state.direct.model.size,\n                        steps: this.$store.state.direct.steps,\n                        chains: this.$store.state.direct.chains,\n                    };\n                },\n                set(value) {\n                    const mutations = {\n                        size: 'direct/model/resize',\n                        steps: 'direct/setSteps',\n                        chains: 'direct/setChains',\n                    };\n                    Object.keys(mutations)\n                        .forEach(key => {\n                            if (this.settings[key] !== value[key]) {\n                                this.$store.commit(mutations[key], value[key]);\n                            }\n                        });\n                },\n            },\n            fieldsConfig() {\n                return [\n                    {\n                        name: 'size',\n                        label: 'Размерность модели',\n                        min: 2,\n                    },\n                    {\n                        name: 'steps',\n                        label: 'Максимальнное количество шагов',\n                        min: 2,\n                        max: null,\n                    },\n                    {\n                        name: 'chains',\n                        label: 'Количество цепочек',\n                        max: null,\n                    },\n                ];\n            },\n            transitions() {\n                return this.$store.state.direct.model.chains;\n            },\n            isTested() {\n                return this.$store.state.direct.model.current === -1;\n            },\n        },\n        methods: {\n            async save(what) {\n                let blob = false;\n                let fileName = false;\n                switch (what) {\n                    case 'xlsx':\n                        // noinspection JSIgnoredPromiseFromCall\n                        this.$store.dispatch('direct/save');\n                        break;\n                    case 'svg':\n                        saveAs(\n                            new Blob([extractSvg(this.$refs.model.$refs.svg)], {type: \"image/svg+xml;charset=utf-8\"}),\n                            'model.svg'\n                        );\n                        break;\n                    case 'png':\n                        svg2image(this.$refs.model.$refs.svg, blob => {\n                            saveAs(blob, 'model.png');\n                        });\n                        break;\n                }\n                if (blob && fileName) {\n                    saveAs(blob, fileName);\n                }\n            },\n            async test() {\n                return this.$store.dispatch('direct/test');\n            },\n            async step() {\n                return this.$store.dispatch('direct/model/step');\n            },\n            async normalize() {\n                return this.$store.dispatch('direct/model/normalize');\n            },\n            async clear() {\n                return this.$store.dispatch('direct/model/clear');\n            },\n        },\n    }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./direct-mode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./direct-mode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./direct-mode.vue?vue&type=template&id=c7c5fd04&\"\nimport script from \"./direct-mode.vue?vue&type=script&lang=js&\"\nexport * from \"./direct-mode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}